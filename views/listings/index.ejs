<% layout("/layouts/boilerplate")%>
<%= success%>

<style>
    #filters{
        display: flex;
        flex-wrap:wrap;
        align-items: center;
        
    }
    .filter{
       text-align: center; 
       margin-right: 1rem;
       margin-top:2rem;
       opacity:0.7;
       font-size:medium;
    }
    .filter:hover{
        opacity:1;
        cursor:ppointer;
    }
    .filter p{
        font-size:small;
    }
    .tax-info{
        display: none;
    }
    .tax-toggle{
        border: 1px solid black;
        border-radius: 1rem;
        height: 2.3rem;
        width: 12rem;
        font-size: 12px;
        padding: 1rem;
        margin-left: 6.5rem;
        display: flex;
        align-items: center;
    }
    
</style>




<body>
     


<div id="filters">
    <div class="filter">
        <div><i class="fa-solid fa-fire"></i></div>
       <p> Trending</p>
    </div>
    <div class="filter">
        <div><i class="fa-solid fa-bed"></i></div>
       <p> Rooms</p>
    </div>
    <div class="filter">
        <div><i class="fa-solid fa-mountain-city"></i></div>
       <p> Iconic-cities</p>
    </div>
    <div class="filter">
        <div><i class="fa-solid fa-mountain"></i></div>
       <p> Mountains</p>
    </div>
    <div class="filter">
        <div><i class="fa-brands fa-fort-awesome"></i></div>
       <p> Castles</p>
    </div>
    <div class="filter">
        <div><i class="fa-regular fa-snowflake"></i></div>
       <p> Arctic</p>
    </div>
    <div class="filter">
        <div><i class="fa-solid fa-campground"></i></div>
       <p>Camping </p>
    </div>
    <div class="filter">
        <div><i class="fa-solid fa-cow"></i></div>
       <p> Farms</p>
    </div>
    <div class="filter">
        <div><i class="fa-solid fa-person-swimming"></i></div>
       <p> Amazing Pools</p>
    </div>
    <div class="filter">
        <div> <i class="fa-solid fa-shop"></i></div>
       <p> Huts</p>
    </div>
    <div class="filter">
        <div><i class="fa-solid fa-person-swimming"></i></div>
       <p> Amazing Pools</p>
    </div>
    <div class="tax-toggle">
    <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
        <label class="form-check-label" for="flexSwitchCheckDefault">Display total after taxes</label>
      </div></div>

</div>


    <div class="row">
        <% for(let listing of alllistings) { %>
            <div class="col-lg-3 col-md-4 col-sm-6 mb-3 mt-3">  
                <a href="/listings/<%=listing._id%>" style="text-decoration:none;">
                    <div class="card listing-card" style="width: 100%;">  
                        <img src="<%=listing.image.url%>" class="card-img-top" alt="image" style="height: 18rem; object-fit: cover;">
                        <div class="card-img-overlay">abcd</div>
                        <div class="card-body">
                            <!-- <p class="card-text"> 
                                <b><%=listing.title%></b><br>
                                &#8377;<%=listing.price%>/Night
                                
                            </p> -->
                            <p class="card-text"> 
                                <b><%=listing.title%></b><br>
                                      &#8377;<%= listing.price.toLocaleString("en-IN") %>/Night
                                      <i class="tax-info">&nbsp; &nbsp;+18% GST</i>
                                
                            </p>
                            
                        </div>
                    </div>
                </a>
            </div>
        <% } %>
    </div>
    
 <script>
let taxSwitch=document.getElementById("flexSwitchCheckDefault");  
taxSwitch.addEventListener("click",()=>{
    let taxInfo=document.getElementsByClassName("tax-info");
    for (info of taxInfo){
        if(info.style.display !="inline"){
        info.style.display="inline";}
        else{
            info.style.display="none";
        }
    }
});
 </script>   
      
    
</body>
